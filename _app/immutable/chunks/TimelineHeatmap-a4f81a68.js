import{S as pe,i as ye,s as ke,k as z,a as $,l as D,m as E,c as X,h as b,n as p,P as ce,b as M,F as k,Q as ue,f as H,g as R,t as C,d as J,O as B,q as O,r as W,p as q,u as K,B as F,w as we,x as ze,y as De,z as Ee,C as P,R as x,G as Ze}from"./index-5edaeb20.js";import{g as Ie}from"./Disclaimer-d43c0e13.js";import{t as Me,c as Se,m as je,a as G,b as I,f as A,d as y,e as ee,I as Ve}from"./Footer-2b8c9a85.js";function Te(e,t){const s=+Me(e);return Se(e,s+t)}function L(e,t){return Te(e,t*je)}function te(e,t,s){const n=e.slice();return n[19]=t[s],n[21]=s,n}function le(e,t,s){const n=e.slice();return n[22]=t[s],n}function ne(e,t,s){const n=e.slice();return n[19]=t[s],n}function se(e,t,s){const n=e.slice();return n[27]=t[s][0],n[28]=t[s][1],n}function ie(e){let t,s,n=e[1].title+"",o,d,l,a,r,m,v;const c=[Xe,$e],u=[];function f(i,_){return i[5].length>0?0:1}return l=f(e),a=u[l]=c[l](e),{c(){t=z("div"),s=z("div"),o=O(n),d=$(),a.c(),this.h()},l(i){t=D(i,"DIV",{class:!0,style:!0});var _=E(t);s=D(_,"DIV",{class:!0});var h=E(s);o=W(h,n),h.forEach(b),d=X(_),a.l(_),_.forEach(b),this.h()},h(){p(s,"class","uppercase bbw-text-color-secondary text-lg"),p(t,"class",r="absolute top-[81px] w-[300px] border dark:border-gray-400 bg-white dark:bg-bbw-dark dark:text-gray-200 z-50 py-2 px-4 "+(e[1]?"hidden md:block":"hidden")),q(t,"left",(e[1].event.layerX+e[2]<e[3]?e[1].event.layerX:e[1].event.layerX-e[2])+"px"),ce(()=>e[12].call(t))},m(i,_){M(i,t,_),k(t,s),k(s,o),k(t,d),u[l].m(t,null),m=ue(t,e[12].bind(t)),v=!0},p(i,_){(!v||_&2)&&n!==(n=i[1].title+"")&&K(o,n);let h=l;l=f(i),l===h?u[l].p(i,_):(R(),C(u[h],1,1,()=>{u[h]=null}),J(),a=u[l],a?a.p(i,_):(a=u[l]=c[l](i),a.c()),H(a,1),a.m(t,null)),(!v||_&2&&r!==(r="absolute top-[81px] w-[300px] border dark:border-gray-400 bg-white dark:bg-bbw-dark dark:text-gray-200 z-50 py-2 px-4 "+(i[1]?"hidden md:block":"hidden")))&&p(t,"class",r),(!v||_&14)&&q(t,"left",(i[1].event.layerX+i[2]<i[3]?i[1].event.layerX:i[1].event.layerX-i[2])+"px")},i(i){v||(H(a),v=!0)},o(i){C(a),v=!1},d(i){i&&b(t),u[l].d(),m()}}}function $e(e){let t,s;return{c(){t=z("div"),s=O("No events"),this.h()},l(n){t=D(n,"DIV",{class:!0});var o=E(t);s=W(o,"No events"),o.forEach(b),this.h()},h(){p(t,"class","text-lg mt-4 bbw-text-color-secondary")},m(n,o){M(n,t,o),k(t,s)},p:F,i:F,o:F,d(n){n&&b(t)}}}function Xe(e){let t,s,n=e[5],o=[];for(let l=0;l<n.length;l+=1)o[l]=ae(se(e,n,l));const d=l=>C(o[l],1,1,()=>{o[l]=null});return{c(){t=z("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){t=D(l,"DIV",{class:!0});var a=E(t);for(let r=0;r<o.length;r+=1)o[r].l(a);a.forEach(b),this.h()},h(){p(t,"class","text-xl mt-4")},m(l,a){M(l,t,a);for(let r=0;r<o.length;r+=1)o[r].m(t,null);s=!0},p(l,a){if(a&32){n=l[5];let r;for(r=0;r<n.length;r+=1){const m=se(l,n,r);o[r]?(o[r].p(m,a),H(o[r],1)):(o[r]=ae(m),o[r].c(),H(o[r],1),o[r].m(t,null))}for(R(),r=n.length;r<o.length;r+=1)d(r);J()}},i(l){if(!s){for(let a=0;a<n.length;a+=1)H(o[a]);s=!0}},o(l){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)C(o[a]);s=!1},d(l){l&&b(t),B(o,l)}}}function oe(e){let t;return{c(){t=O("*")},l(s){t=W(s,"*")},m(s,n){M(s,t,n)},d(s){s&&b(t)}}}function re(e){let t,s=e[27].segments[e[28]].title+"",n;return{c(){t=O("- "),n=O(s)},l(o){t=W(o,"- "),n=W(o,s)},m(o,d){M(o,t,d),M(o,n,d)},p(o,d){d&32&&s!==(s=o[27].segments[o[28]].title+"")&&K(n,s)},d(o){o&&b(t),o&&b(n)}}}function ae(e){let t,s,n,o,d,l=(e[27].shortname||e[27].name)+"",a,r,m,v;n=new Ve({props:{item:e[27],width:"h-8"}});let c=e[27].hidden&&oe(),u=e[27].segments[e[28]].title&&re(e);return{c(){t=z("div"),s=z("div"),we(n.$$.fragment),o=$(),d=z("div"),a=O(l),c&&c.c(),r=$(),u&&u.c(),m=$(),this.h()},l(f){t=D(f,"DIV",{class:!0});var i=E(t);s=D(i,"DIV",{class:!0});var _=E(s);ze(n.$$.fragment,_),_.forEach(b),o=X(i),d=D(i,"DIV",{class:!0});var h=E(d);a=W(h,l),c&&c.l(h),r=X(h),u&&u.l(h),h.forEach(b),m=X(i),i.forEach(b),this.h()},h(){p(s,"class",""),p(d,"class",""),p(t,"class","flex gap-2 items-center mb-1")},m(f,i){M(f,t,i),k(t,s),De(n,s,null),k(t,o),k(t,d),k(d,a),c&&c.m(d,null),k(d,r),u&&u.m(d,null),k(t,m),v=!0},p(f,i){const _={};i&32&&(_.item=f[27]),n.$set(_),(!v||i&32)&&l!==(l=(f[27].shortname||f[27].name)+"")&&K(a,l),f[27].hidden?c||(c=oe(),c.c(),c.m(d,r)):c&&(c.d(1),c=null),f[27].segments[f[28]].title?u?u.p(f,i):(u=re(f),u.c(),u.m(d,null)):u&&(u.d(1),u=null)},i(f){v||(H(n.$$.fragment,f),v=!0)},o(f){C(n.$$.fragment,f),v=!1},d(f){f&&b(t),Ee(n),c&&c.d(),u&&u.d()}}}function de(e){let t,s,n,o=A(I(e[19],{timeZone:y.tz}),"eee ",{timeZone:y.tz})+"",d,l,a=A(I(e[19],{timeZone:y.tz}),"d",{timeZone:y.tz})+"",r,m,v;return{c(){t=z("div"),s=z("a"),n=z("span"),d=O(o),l=$(),r=O(a),m=$(),this.h()},l(c){t=D(c,"DIV",{class:!0,style:!0});var u=E(t);s=D(u,"A",{href:!0});var f=E(s);n=D(f,"SPAN",{class:!0});var i=E(n);d=W(i,o),i.forEach(b),l=X(f),r=W(f,a),f.forEach(b),m=X(u),u.forEach(b),this.h()},h(){p(n,"class","hidden md:inline-block"),p(s,"href","/24/day/"+A(I(e[19],{timeZone:y.tz}),"yyyy-MM-dd",{timeZone:y.tz})),p(t,"class",v="mb-1 uppercase "+(e[0]&&e[0]!==e[19]?"text-gray-400 text-lg":"text-bbw-navy text-lg")),q(t,"width",1/(e[6].length/100)+"%")},m(c,u){M(c,t,u),k(t,s),k(s,n),k(n,d),k(s,l),k(s,r),k(t,m)},p(c,u){u&1&&v!==(v="mb-1 uppercase "+(c[0]&&c[0]!==c[19]?"text-gray-400 text-lg":"text-bbw-navy text-lg"))&&p(t,"class",v)},d(c){c&&b(t)}}}function fe(e){let t,s,n,o,d;return{c(){t=z("div"),this.h()},l(l){t=D(l,"DIV",{id:!0,"data-events":!0,"data-score":!0,class:!0,style:!0}),E(t).forEach(b),this.h()},h(){p(t,"id",e[19]+"-"+e[22]),p(t,"data-events",s=e[4][[e[19],e[22]].join(";")].events),p(t,"data-score",n=e[4][[e[19],e[22]].join(";")].score),p(t,"class","md:hover:border md:hover:border-bbw-yellow flex-grow cursor-pointer"),q(t,"width",1/(e[7].length/50)+"%"),q(t,"background-color","rgba("+(!e[0]||e[0]===e[19]?"0, 36, 225":"115, 115, 115")+", "+e[4][[e[19],e[22]].join(";")].perc+"%)")},m(l,a){M(l,t,a),o||(d=[P(t,"click",function(){x(e[9](e[19],e[22],e[4][[e[19],e[22]].join(";")]))&&e[9](e[19],e[22],e[4][[e[19],e[22]].join(";")]).apply(this,arguments)}),P(t,"mouseenter",function(){x(e[8](e[19],e[22],e[4][[e[19],e[22]].join(";")]))&&e[8](e[19],e[22],e[4][[e[19],e[22]].join(";")]).apply(this,arguments)}),P(t,"mouseleave",e[10])],o=!0)},p(l,a){e=l,a&16&&s!==(s=e[4][[e[19],e[22]].join(";")].events)&&p(t,"data-events",s),a&16&&n!==(n=e[4][[e[19],e[22]].join(";")].score)&&p(t,"data-score",n),a&17&&q(t,"background-color","rgba("+(!e[0]||e[0]===e[19]?"0, 36, 225":"115, 115, 115")+", "+e[4][[e[19],e[22]].join(";")].perc+"%)")},d(l){l&&b(t),o=!1,Ze(d)}}}function he(e){let t,s,n,o=e[7],d=[];for(let l=0;l<o.length;l+=1)d[l]=fe(le(e,o,l));return{c(){t=z("div");for(let l=0;l<d.length;l+=1)d[l].c();s=$(),this.h()},l(l){t=D(l,"DIV",{class:!0,style:!0});var a=E(t);for(let r=0;r<d.length;r+=1)d[r].l(a);s=X(a),a.forEach(b),this.h()},h(){p(t,"class","h-10 flex flex-grow hover:bg-bbw-yellow/20"),p(t,"style",n="width: "+1/(e[6].length/100)+"%; "+(e[0]&&e[0]===e[19]?"border: 1px solid rgb(0, 36, 225);":e[0]?e[6].length-e[21]>1?"border-right: 1px solid silver;":"":"border-right: 1px solid rgb(0, 36, 225);"))},m(l,a){M(l,t,a);for(let r=0;r<d.length;r+=1)d[r].m(t,null);k(t,s)},p(l,a){if(a&2001){o=l[7];let r;for(r=0;r<o.length;r+=1){const m=le(l,o,r);d[r]?d[r].p(m,a):(d[r]=fe(m),d[r].c(),d[r].m(t,s))}for(;r<d.length;r+=1)d[r].d(1);d.length=o.length}a&1&&n!==(n="width: "+1/(l[6].length/100)+"%; "+(l[0]&&l[0]===l[19]?"border: 1px solid rgb(0, 36, 225);":l[0]?l[6].length-l[21]>1?"border-right: 1px solid silver;":"":"border-right: 1px solid rgb(0, 36, 225);"))&&p(t,"style",n)},d(l){l&&b(t),B(d,l)}}}function He(e){let t,s,n,o,d,l,a,r,m=e[1]&&ie(e),v=e[6],c=[];for(let i=0;i<v.length;i+=1)c[i]=de(ne(e,v,i));let u=e[6],f=[];for(let i=0;i<u.length;i+=1)f[i]=he(te(e,u,i));return{c(){t=z("div"),m&&m.c(),s=$(),n=z("div");for(let i=0;i<c.length;i+=1)c[i].c();d=$(),l=z("div");for(let i=0;i<f.length;i+=1)f[i].c();this.h()},l(i){t=D(i,"DIV",{class:!0});var _=E(t);m&&m.l(_),s=X(_),n=D(_,"DIV",{class:!0});var h=E(n);for(let V=0;V<c.length;V+=1)c[V].l(h);h.forEach(b),d=X(_),l=D(_,"DIV",{class:!0});var S=E(l);for(let V=0;V<f.length;V+=1)f[V].l(S);S.forEach(b),_.forEach(b),this.h()},h(){p(n,"class","flex text-center text-gray-400 text-sm items-end h-10"),ce(()=>e[13].call(n)),p(l,"class",a="w-full border "+(e[0]?"border-gray-300":"border-bbw-navy")+" flex"),p(t,"class","w-full mb-10 relative")},m(i,_){M(i,t,_),m&&m.m(t,null),k(t,s),k(t,n);for(let h=0;h<c.length;h+=1)c[h].m(n,null);o=ue(n,e[13].bind(n)),k(t,d),k(t,l);for(let h=0;h<f.length;h+=1)f[h].m(l,null);r=!0},p(i,[_]){if(i[1]?m?(m.p(i,_),_&2&&H(m,1)):(m=ie(i),m.c(),H(m,1),m.m(t,s)):m&&(R(),C(m,1,1,()=>{m=null}),J()),_&65){v=i[6];let h;for(h=0;h<v.length;h+=1){const S=ne(i,v,h);c[h]?c[h].p(S,_):(c[h]=de(S),c[h].c(),c[h].m(n,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=v.length}if(_&2001){u=i[6];let h;for(h=0;h<u.length;h+=1){const S=te(i,u,h);f[h]?f[h].p(S,_):(f[h]=he(S),f[h].c(),f[h].m(l,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=u.length}(!r||_&1&&a!==(a="w-full border "+(i[0]?"border-gray-300":"border-bbw-navy")+" flex"))&&p(l,"class",a)},i(i){r||(H(m),r=!0)},o(i){C(m),r=!1},d(i){i&&b(t),m&&m.d(),B(c,i),o(),B(f,i)}}}const Oe="2024-05-18",We="2024-05-27",Q=60,Ae="09:00-18:00";function Ce(e,t,s){let n,{data:o}=t,{highlightDay:d=!1}=t;const l=o.bundle;let a,r,m=null;const v=[];let c=Oe;for(;G(I(c,{timeZone:y.tz}),I(We,{timeZone:y.tz}))<=0;)v.push(A(I(c,{timeZone:y.tz}),"yyyy-MM-dd",{timeZone:y.tz})),c=ee(I(c,{timeZone:y.tz}),1);const u=[];for(let g=0;g<24;g++){const w=`${String(g).padStart(2,"0")}:00`;u.push(w)}const f={};for(const g of v)for(const w of u)f[[g,w].join(";")]={score:0,events:[]};function i(g,w,Z,j){for(const T of v)for(const N of u){const U=I(`${T}T${N}`,{timeZone:y.tz}),ve=I(L(U,Q),{timeZone:y.tz});if(G(U,g.end)<0&&G(ve,g.start)>0){const be=Z?Z>3e3?3e3:Z<200?200:Z:0,Y=f[[T,N].join(";")];Y.score+=be||0,Y.events.push([w,j])}}}for(const g of l.events)for(let w=0;w<g.segments.length;w++){const Z=g.segments[w],[j,T]=(Z.times||Ae).split("-"),N={start:I(`${Z.date}T${j}`,{timeZone:y.tz}),end:I(`${T<=j?A(ee(I(Z.date,{timeZone:y.tz}),1),"yyyy-MM-dd",{timeZone:y.tz}):Z.date}T${T}`,{timeZone:y.tz})};i(N,g.id,Z.ecap||g.attendees,w)}const _=Math.max(...Object.keys(f).map(g=>f[g].score));for(const g of Object.keys(f)){const w=f[g];w.perc=w.score/(_/100)}function h(g,w,Z){const j=I(`${g}T${w}`,{timeZone:y.tz}),T=A(j,"EEEE MMMM d | HH:mm - ",{timeZone:y.tz})+A(L(j,Q),"HH:mm",{timeZone:y.tz});return N=>{s(1,m={day:g,segment:w,data:Z,event:N,title:T})}}function S(g,w,Z){const j=I(`${g}T${w}`,{timeZone:y.tz}),T=L(j,Q);Ie(`/${o.params.entry}/day/${g}?start=${j.toISOString()}&end=${T.toISOString()}`)}function V(){s(1,m=null)}function me(g){return l.events.find(w=>w.id===g)}function _e(){a=this.clientWidth,s(2,a)}function ge(){r=this.clientWidth,s(3,r)}return e.$$set=g=>{"data"in g&&s(11,o=g.data),"highlightDay"in g&&s(0,d=g.highlightDay)},e.$$.update=()=>{e.$$.dirty&2&&s(5,n=m?m.data.events.map(g=>[me(g[0]),g[1]]):[])},[d,m,a,r,f,n,v,u,h,S,V,o,_e,ge]}class Fe extends pe{constructor(t){super(),ye(this,t,Ce,He,ke,{data:11,highlightDay:0})}}export{Fe as T};
